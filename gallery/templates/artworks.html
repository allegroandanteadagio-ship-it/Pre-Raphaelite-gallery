<!DOCTYPE html>
<html>
<head>
    <title>–ö–æ–ª–ª–µ–∫—Ü–∏—è –∫–∞—Ä—Ç–∏–Ω –ø—Ä–µ—Ä–∞—Ñ–∞—ç–ª–∏—Ç–æ–≤</title>
    <link href="https://fonts.googleapis.com/css2?family=Amarante&display=swap" rel="stylesheet">
    <style>
        :root {
            --blood-red: #8b0000;
            --cream: #f5f5f0;
            --black: #1a1a1a;
            --gray: #666;
        }
        
        body { 
            font-family: 'Amarante', 'Georgia', serif; 
            margin: 60px; 
            background: var(--cream); 
            color: var(--black);
            letter-spacing: 0.5px;
        }
        
        h1 { 
            color: var(--blood-red); 
            margin-bottom: 40px;
            border-bottom: 3px solid var(--blood-red);
            padding-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 38px;
        }
        
        /* –ö–ù–û–ü–ö–ê "–ù–ê –ì–õ–ê–í–ù–£–Æ" - –¢–û–ß–ù–û –ö–ê–ö –£ –•–£–î–û–ñ–ù–ò–ö–û–í */
        .back-link { 
            display: inline-block;
            margin-bottom: 40px;
            padding: 12px 25px; 
            background: var(--black); 
            color: var(--cream); 
            text-decoration: none; 
            border: 3px solid var(--black);
            text-transform: uppercase;
            letter-spacing: 1.5px;
            font-size: 18px;
            transition: all 0.3s;
        }
        
        .back-link:hover {
            background: var(--blood-red);
            border-color: var(--blood-red);
            color: white;
        }
        
        /* –ö–û–ù–¢–ï–ô–ù–ï–† –î–õ–Ø –ö–ù–û–ü–ö–ò –ò –ü–û–ò–°–ö–ê */
        .header-wrapper {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        /* –ü–û–õ–ï –ü–û–ò–°–ö–ê –° –ú–ò–ù–ò–ú–ê–õ–ò–°–¢–ò–ß–ù–û–ô –ò–ö–û–ù–ö–û–ô */
        .search-box {
            position: relative;
            width: 400px;
            margin-bottom: 40px;
        }
        
        .search-input {
            width: 100%;
            padding: 12px 25px 12px 50px;
            font-size: 17px;
            border: 3px solid var(--blood-red);
            border-radius: 0;
            font-family: 'Amarante', serif;
            background: white;
            color: var(--black);
            outline: none;
            transition: all 0.3s;
            height: 48px;
            box-sizing: border-box;
        }
        
        .search-input:focus {
            border-color: var(--black);
        }
        
        .search-input::placeholder {
            color: #999;
            font-style: italic;
        }
        
        /* –ü–†–ê–í–ò–õ–¨–ù–ê–Ø –ò–ö–û–ù–ö–ê –õ–£–ü–´: –ö–†–£–ì + –†–£–ö–û–Ø–¢–ö–ê –°–ù–ê–†–£–ñ–ò */
        .search-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            width: 22px;
            height: 22px;
            pointer-events: none;
        }
        
        /* –ö–†–£–ì (–°–¢–ï–ö–õ–û –õ–£–ü–´) */
        .search-icon-circle {
            position: absolute;
            width: 16px;
            height: 16px;
            border: 2px solid var(--blood-red);
            border-radius: 50%;
            top: 0;
            left: 0;
        }
        
        /* –†–£–ö–û–Ø–¢–ö–ê (–°–ù–ê–†–£–ñ–ò –ö–†–£–ì–ê) */
        .search-icon-handle {
            position: absolute;
            width: 10px;
            height: 2px;
            background: var(--blood-red);
            top: 14px;      /* –ù–ò–ñ–ù–Ø–Ø –ß–ê–°–¢–¨ –ö–†–£–ì–ê */
            left: 14px;     /* –ü–†–ê–í–ê–Ø –ß–ê–°–¢–¨ –ö–†–£–ì–ê */
            transform: rotate(45deg);
            transform-origin: left center;
        }
        
        /* –ß–ï–†–¢–û–ß–ö–ê –¢–û–õ–¨–ö–û –°–ù–ê–†–£–ñ–ò, –ù–ï –í–•–û–î–ò–¢ –í –ö–†–£–ì */
        .search-input:focus ~ .search-icon-circle {
            border-color: var(--black);
        }
        
        .search-input:focus ~ .search-icon-handle {
            background: var(--black);
        }
        
        /* –°–û–û–ë–©–ï–ù–ò–ï –û –†–ï–ó–£–õ–¨–¢–ê–¢–ê–• –ü–û–ò–°–ö–ê */
        .search-results {
            text-align: center;
            margin: 0 0 30px 0;
            padding: 15px;
            color: #333;
            font-size: 18px;
            border-top: 1px solid #eee;
            border-bottom: 1px solid #eee;
        }
        
        .search-results strong {
            color: var(--blood-red);
        }
        
        /* –û–°–¢–ê–õ–¨–ù–´–ï –°–¢–ò–õ–ò –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô */
        .painting-container {
            display: flex;
            margin-bottom: 60px;
            gap: 40px;
            background: white;
            padding: 30px;
            border: 2px solid #ddd;
            transition: all 0.3s;
        }
        
        .painting-container:hover {
            border-color: var(--blood-red);
            box-shadow: 0 5px 15px rgba(139, 0, 0, 0.1);
        }
        
        .painting-info-container {
            flex: 1;
            min-width: 300px;
        }
        
        .painting-image-container {
            flex: 1;
            min-width: 300px;
            text-align: right;
        }
        
        .painting-title {
            font-size: 28px;
            color: var(--blood-red);
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-bottom: 2px solid var(--blood-red);
            padding-bottom: 10px;
        }
        
        .painting-info {
            margin: 20px 0;
        }
        
        .info-item {
            margin-bottom: 12px;
            font-size: 19px;
            color: #444;
            line-height: 1.8;
        }
        
        .info-label {
            font-weight: bold;
            display: inline-block;
            width: 200px;
            color: var(--black);
        }
        
        .info-value {
            color: var(--gray);
        }
        
        .description {
            margin: 25px 0;
            font-style: italic;
            font-size: 19px;
            line-height: 1.8;
            color: #444;
            border-top: 1px solid #eee;
            padding-top: 20px;
        }
        
        .description strong {
            color: var(--blood-red);
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .painting-image {
            max-width: 100%;
            height: auto;
            border: 1px solid #ddd;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .image-placeholder {
            width: 100%;
            height: 400px;
            background-color: var(--cream);
            border: 2px dashed #ccc;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--gray);
            font-size: 20px;
            text-align: center;
            font-style: italic;
        }
        
        .image-caption {
            font-size: 16px;
            color: var(--gray);
            margin-top: 15px;
            text-align: center;
            font-style: italic;
        }
        
        .painting-divider {
            border: none;
            border-top: 3px solid var(--blood-red);
            margin: 60px 0;
            width: 100%;
        }
        
        .empty-message {
            background: white;
            padding: 40px;
            border: 2px solid #ddd;
            text-align: center;
            color: var(--gray);
            font-size: 22px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
    </style>
</head>
<body>
    <h1>–ö–æ–ª–ª–µ–∫—Ü–∏—è –∫–∞—Ä—Ç–∏–Ω –ø—Ä–µ—Ä–∞—Ñ–∞—ç–ª–∏—Ç–æ–≤</h1>
    
    <!-- –ö–ù–û–ü–ö–ê –ò –ü–û–ò–°–ö –ù–ê –û–î–ù–û–ú –£–†–û–í–ù–ï -->
    <div class="header-wrapper">
        <!-- –ö–ù–û–ü–ö–ê "–ù–ê –ì–õ–ê–í–ù–£–Æ" - –¢–û–ß–ù–û –ö–ê–ö –í –®–ê–ë–õ–û–ù–ï –•–£–î–û–ñ–ù–ò–ö–û–í -->
        <a href="{% url 'home' %}" class="back-link">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
        
        <!-- –ü–û–õ–ï –ü–û–ò–°–ö–ê –° –ü–†–ê–í–ò–õ–¨–ù–û–ô –ò–ö–û–ù–ö–û–ô –õ–£–ü–´ -->
        <div class="search-box">
            <form method="get" action=".">
                <input type="text" 
                       name="q" 
                       placeholder="–ü–æ–∏—Å–∫ –∫–∞—Ä—Ç–∏–Ω –∏–ª–∏ —Ö—É–¥–æ–∂–Ω–∏–∫–æ–≤..."
                       class="search-input"
                       value="{{ search_query }}">
                <!-- –ü–†–ê–í–ò–õ–¨–ù–ê–Ø –õ–£–ü–ê: –ö–†–£–ì + –†–£–ö–û–Ø–¢–ö–ê –°–ù–ê–†–£–ñ–ò -->
                <div class="search-icon">
                    <div class="search-icon-circle"></div>
                    <div class="search-icon-handle"></div>
                </div>
            </form>
        </div>
    </div>
    
    <!-- –°–û–û–ë–©–ï–ù–ò–ï –û –†–ï–ó–£–õ–¨–¢–ê–¢–ê–• –ü–û–ò–°–ö–ê -->
    {% if search_query %}
    <div class="search-results">
        {% if artworks|length > 0 %}
            –ù–∞–π–¥–µ–Ω–æ –∫–∞—Ä—Ç–∏–Ω: <strong>{{ artworks|length }}</strong> 
            –ø–æ –∑–∞–ø—Ä–æ—Å—É: <strong>"{{ search_query }}"</strong>
        {% else %}
            –ü–æ –∑–∞–ø—Ä–æ—Å—É <strong>"{{ search_query }}"</strong> –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.
            <a href="." style="color: var(--blood-red); margin-left: 15px;">–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ</a>
        {% endif %}
    </div>
    {% endif %}

    {% for artwork in artworks %}
    <div class="painting-container">
        <div class="painting-info-container">
            <h2 class="painting-title">{{ artwork.title }} ({{ artwork.year }})</h2>
            
            <div class="painting-info">
                <div class="info-item">
                    <span class="info-label">–•—É–¥–æ–∂–Ω–∏–∫:</span>
                    <span class="info-value">{{ artwork.artist.name }}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">–¢–µ—Ö–Ω–∏–∫–∞:</span>
                    <span class="info-value">{{ artwork.technique }}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">–†–∞–∑–º–µ—Ä—ã:</span>
                    <span class="info-value">{{ artwork.dimensions }}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">–ú–µ—Å—Ç–æ–Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ:</span>
                    <span class="info-value">{{ artwork.location }}</span>
                </div>
            </div>
            
            <div class="description">
                <strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> {{ artwork.description }}
            </div>
        </div>
        
        <div class="painting-image-container">
            {% if artwork.image_url %}
            <img src="{{ artwork.image_url }}" 
                 alt="{{ artwork.title }}, {{ artwork.artist.name }}" 
                 class="painting-image"
                 onerror="this.style.display='none'; document.getElementById('placeholder{{ forloop.counter }}').style.display='flex';">
            <div class="image-placeholder" id="placeholder{{ forloop.counter }}" style="display: none;">
                {{ artwork.title }}<br>{{ artwork.artist.name }}, {{ artwork.year }}
            </div>
            {% else %}
            <div class="image-placeholder">
                {{ artwork.title }}<br>{{ artwork.artist.name }}, {{ artwork.year }}
            </div>
            {% endif %}
            <div class="image-caption">¬´{{ artwork.title }}¬ª ‚Äî {{ artwork.artist.name }}</div>
        </div>
    </div>
    
    {% if not forloop.last %}
    <hr class="painting-divider">
    {% endif %}
    
    {% empty %}
    <div class="empty-message">
        {% if search_query %}
        <h3 style="color: #8b0000; margin-bottom: 15px;">üé® –ö–∞—Ä—Ç–∏–Ω—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h3>
        <p>–ü–æ –∑–∞–ø—Ä–æ—Å—É "<strong>{{ search_query }}</strong>" –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.</p>
        <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ:</p>
        <ul style="text-align: left; display: inline-block;">
            <li>–ò—Å–∫–∞—Ç—å –ø–æ –¥—Ä—É–≥–æ–º—É –Ω–∞–∑–≤–∞–Ω–∏—é</li>
            <li>–ò—Å–∫–∞—Ç—å –ø–æ —Ñ–∞–º–∏–ª–∏–∏ —Ö—É–¥–æ–∂–Ω–∏–∫–∞</li>
            <li><a href="." style="color: #8b0000;">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∫–∞—Ä—Ç–∏–Ω—ã</a></li>
        </ul>
        {% else %}
        –ö–∞—Ä—Ç–∏–Ω –ø–æ–∫–∞ –Ω–µ—Ç –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏. –î–æ–±–∞–≤—å—Ç–µ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å.
        {% endif %}
    </div>
    {% endfor %}

</body>
</html>